<div class="page">
  <header class="header page__header">
    <h1 class="header__title">
      Товары
    </h1>

    <div class="header__toolbar">
      <app-button class="header__btn" (click)="downloadShoppingFeed()">Скачать Shopping Products feed</app-button>
      <app-button class="header__btn" (click)="downloadReviewsFeed()">Скачать Reviews feed</app-button>
      <button class="header__btn toolbar-main-btn" (click)="add()" type="button">Добавить товар</button>
    </div>
  </header>

  <grid class="page__grid"
        [cells]="gridCells"
        [itemsArray]="products"
        [itemsFiltered]="itemsFiltered"
        [linkUrlSuffix]="gridLinkUrl"
        [pagesTotal]="pagesTotal"
        [isLoading]="isGridLoading"
        (gridChange)="onGridChange($event)"
        trackByFieldName="id"
        linkFieldName="id"
        gridName="product-list"
  >
    <span grid-total-items>Всего товаров: {{ itemsTotal }}</span>
    <span grid-no-items>Товары не найдены</span>

    <ng-template #cellContent let-product="item">{{ product.id }}</ng-template>
    <ng-template #cellContent let-product="item">
      <img class="product-thumbnail"
           *ngIf="product.mediaUrl as media"
           [src]="uploadedHost + media"
      >
    </ng-template>
    <ng-template #cellContent let-product="item">{{ product.name }}</ng-template>
    <ng-template #cellContent let-product="item">{{ product.skus }}</ng-template>
    <ng-template #cellContent let-product="item">{{ product.prices | readableCurrency }}</ng-template>
    <ng-template #cellContent let-product="item">{{ product.quantities }}</ng-template>
    <ng-template #cellContent let-product="item">
      <ng-container [ngSwitch]="product.isEnabled">
        <ng-container *ngSwitchCase="true">Включен</ng-container>
        <ng-container *ngSwitchCase="false">Выключен</ng-container>
      </ng-container>
    </ng-template>
  </grid>
</div>
